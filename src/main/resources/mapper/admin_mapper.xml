<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<!-- dumy_mapper.xml -->

<mapper namespace="co.cod.app.admin.mapper.AdminMapper">
	<insert id="insertAdmin" parameterType="co.cod.app.admin.AdminVO" >
		INSERT INTO ADMIN (
		ADMIN_ID,
		PW,
		PASS2,
		ADMIN_PHONE,
		CAFE_STATE, 
		ADMIN_STATE)
		VALUES ( 
		#{adminId}, 
		#{pw},
		#{pass2}, 
		#{adminPhone},	
		0,	
		0
		)
	</insert>
	
	<select id="adminLogin" parameterType="co.cod.app.admin.AdminVO" resultType ="co.cod.app.admin.AdminVO"> 
	SELECT
	ADMIN_ID, 	
	PW,
	CAFE_STATE,
	ADMIN_STATE
	FROM ADMIN
	WHERE ADMIN_ID = #{adminId}			
	</select>	
	
	
	<select id="getAdminListCafe1" parameterType="co.cod.app.admin.AdminVO" resultType ="co.cod.app.admin.AdminVO">
	SELECT * FROM ADMIN WHERE CAFE_STATE = 1
	</select>
	
	<select id="getAdminListCafe2" parameterType="co.cod.app.admin.AdminVO" resultType ="co.cod.app.admin.AdminVO">
		SELECT * FROM ADMIN WHERE CAFE_STATE = 2
	</select>
	
	<update id="updateAdminListCafe1" parameterType="co.cod.app.admin.AdminVO" >
			
	UPDATE ADMIN SET CAFE_STATE=2 WHERE ADMIN_ID = #{ADMIN_ID} 
	
	</update>

	<update id="updateAdminListCafe2" parameterType="co.cod.app.admin.AdminVO" >
			
	UPDATE ADMIN SET CAFE_STATE=0 WHERE ADMIN_ID = #{ADMIN_ID} 
	
	</update>

	
	<!-- 카페 대기 등록 대기 리스트 조회  -->

	
<!-- 	<select id="updateCafeState" resultType="co.cod.app.admin.adminVO">
      update admin set cafe_state=#{cafeState}
      <where>
         <if test="admin_id != null && admin_id !='' ">
            admin_id = #{adminId}
         </if>
      </where>
   	</select> -->
   
   	
   	
   	
   	<!--  cafe_state 업테이트 -->
	<select id="updateCafeState" parameterType="admins">
		UPDATE admin SET cafe_state = 1
		WHERE admin_id = #{adminId}
	</select>
</mapper>